name: Send Teams Message on PR Creation
on:
  pull_request:
    types: [opened]

jobs:
  send-message:
    runs-on: ubuntu-latest
    steps:
      - name: Send Teams Message
        uses: moraleslazaro/http-request-action@v1
        with:
          url: ${{ secrets.TEAMS_WEBHOOK_URL }}
          method: POST
          headers: |
            {
              "Content-Type": "application/json"
            }
          body: |
            {
              "title": "New pull request",
              "summary": "A new pull request has been created in the repository by '${{ github.event.pull_request.user.login }}'",
              "text": "Title: '${{ github.event.pull_request.title }}'\n\nDescription: '${{ github.event.pull_request.body }}'"
            }
